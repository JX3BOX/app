(function(t){function e(e){for(var a,l,r=e[0],o=e[1],c=e[2],f=0,d=[];f<r.length;f++)l=r[f],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&d.push(i[l][0]),i[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=n[0]))}return t}var a={},i={talent2:0},s=[];function l(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=a,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(n,a,function(e){return t[e]}.bind(null,a));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="https://console.cnyixun.com/static/app/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=o;s.push([15,"chunk-vendors","chunk-common"]),n()})({"11ba":function(t,e,n){},15:function(t,e,n){t.exports=n("b459")},"3a7a":function(t){t.exports=JSON.parse('{"a":{"冰心诀":{"begin":"left","content":[10081,10080],"talent":["冰心诀","云裳心经"]},"云裳心经":{"begin":"right","content":[10081,10080],"talent":["冰心诀","云裳心经"]},"傲血战意":{"begin":"left","content":[10026,10062],"talent":["傲血战意","铁牢律"]},"铁牢律":{"begin":"right","content":[10026,10062],"talent":["傲血战意","铁牢律"]},"花间游":{"begin":"left","content":[10021,10028],"talent":["花间游","离经易道"]},"离经易道":{"begin":"right","content":[10021,10028],"talent":["花间游","离经易道"]},"太虚剑意":{"begin":"left","content":[10015,10014],"talent":["太虚剑意","紫霞功"]},"紫霞功":{"begin":"right","content":[10015,10014],"talent":["太虚剑意","紫霞功"]},"易筋经":{"begin":"left","content":[10003,10002],"talent":["易筋经","洗髓经"]},"洗髓经":{"begin":"right","content":[10003,10002],"talent":["易筋经","洗髓经"]},"通用":{"begin":"left","content":[],"talent":["冰心诀","云裳心经"]}}}')},"46f2":function(t,e,n){"use strict";n("11ba")},b459:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=n("5c96"),s=n.n(i),l=n("4eb5"),r=n.n(l),o=n("6a69"),c=(n("6b30"),n("c5b4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("Breadcrumb",{attrs:{name:"镇派模拟器",slug:"talent2",root:"/app/talent2",feedbackEnable:!0,crumbEnable:!0}},[n("svg",{attrs:{slot:"logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},slot:"logo"},[n("path",{attrs:{d:"M13 159.3c.7-.6 1.5-1.1 2.1-1.8 14.6-15.6 30.8-29.1 49.3-39.6 6.5-3.7 13.3-6.7 20.2-9.8-15.2 13.9-24 30.9-24 51.6 0 20.8 8.7 37.8 24 51.8-3.3-1.4-6.7-2.8-9.9-4.4-16-7.7-30.5-17.7-43.7-29.6-5.6-5-10.8-10.5-16.3-15.8l-1.8-1.5c.1-.3.1-.6.1-.9zM243 160.2c-.7.6-1.5 1.1-2.1 1.8-14.6 15.6-30.7 29.1-49.3 39.6-6.5 3.7-13.3 6.7-20.2 9.8 15.2-13.9 24-30.9 24-51.6 0-20.8-8.7-37.8-24-51.8 3.3 1.4 6.7 2.8 9.9 4.4 16 7.7 30.5 17.7 43.7 29.6 5.6 5 10.8 10.5 16.3 15.8l1.8 1.5c-.1.3-.1.6-.1.9z"}}),n("path",{attrs:{d:"M128.1 213.7c-29.6.1-53.8-24-54-53.8-.2-29.7 24.2-54.1 53.9-54 29.7 0 53.8 24.2 53.9 53.9 0 29.5-24.1 53.8-53.8 53.9zm0-20.3c18.5 0 33.7-15.3 33.6-33.8-.1-18.5-15.2-33.5-33.6-33.6-18.5 0-33.7 15.1-33.7 33.7-.1 18.6 15.1 33.8 33.7 33.7zM50.5 97.9c-2.3 3.9-4.4 7.7-6.7 11.7-9.9-5.6-19.6-11.2-29.6-16.8 2.3-3.9 4.5-7.7 6.7-11.7 9.9 5.6 19.7 11.2 29.6 16.8zM235.1 81.1c2.2 3.9 4.4 7.6 6.7 11.7-9.8 5.6-19.6 11.2-29.6 16.8-2.2-3.9-4.4-7.7-6.8-11.7 10-5.6 19.8-11.2 29.7-16.8zM134.6 78.8h-13.2V45.4h13.2v33.4zM73.1 53.8c5.6 9.7 11.2 19.3 16.8 29.2-3.9 2.3-7.7 4.5-11.7 6.7-5.5-9.7-11.1-19.3-16.8-29.2 3.9-2.2 7.7-4.4 11.7-6.7zM182.9 53.8c4 2.3 7.7 4.5 11.7 6.7-2.9 5-5.6 9.8-8.4 14.6-2.8 4.8-5.5 9.6-8.4 14.6-3.9-2.2-7.7-4.4-11.7-6.7 5.6-9.7 11.1-19.4 16.8-29.2z"}}),n("path",{attrs:{d:"M107.8 159.4c.3-11.1 9.6-20.1 20.5-19.9 11.2.3 20.3 9.7 19.9 20.6-.4 11.2-9.7 20.1-20.6 19.8-11.2-.3-20.1-9.6-19.8-20.5zm26.8 7v-13.2h-13.2v13.2h13.2z"}})]),n("div",{staticClass:"m-info"})]),n("LeftSidebar",{attrs:{open:!1}},[n("Nav")],1),n("Main",{attrs:{withoutRight:!0,withoutLeft:!0}},[n("div",{staticClass:"m-talent m-talent2"},[n("div",{staticClass:"m-talent-header"},[n("h1",{staticClass:"m-talent-title"},[t._v("镇派模拟器")]),n("div",{staticClass:"m-talent-panel"},[n("div",{staticClass:"m-talent-version"},[n("span",{staticClass:"u-label"},[t._v("选择版本")]),n("el-select",{attrs:{placeholder:"请选择游戏版本"},on:{change:t.reload},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}},t._l(t.versions,(function(t){return n("el-option",{key:t.version,attrs:{label:t.name,value:t.version}})})),1)],1)])]),n("div",{staticClass:"m-talent-wrapper"},[n("h2",{staticClass:"m-talent-subtitle"},[t._v("选择心法")]),n("div",{staticClass:"m-talent-xf"},t._l(t.xfmap,(function(e,a){return n("el-radio",{directives:[{name:"show",rawName:"v-show",value:t.isOrigin(e),expression:"isOrigin(item)"}],key:a,attrs:{label:e.name},on:{change:t.reload},model:{value:t.xf,callback:function(e){t.xf=e},expression:"xf"}},[n("img",{staticClass:"u-pic",attrs:{src:t._f("xficon")(e.id),alt:e.name}}),n("span",{staticClass:"u-txt"},[t._v(t._s(e.name))])])})),1),n("h2",{staticClass:"m-talent-subtitle"},[t._v("配置镇派")]),n("div",{staticClass:"m-talent2-box"},[n("div",{staticClass:"m-talent2-left"},[n("div",{staticClass:"m-talent2-title"},[n("img",{staticClass:"m-talent2-xf-icon",attrs:{src:t._f("xficon")(t.xfContent[0])}}),n("span",{staticClass:"m-talent2-title-count"},[t._v(t._s(t.lCount))]),n("span",{staticClass:"m-talent2-title-name"},[t._v(t._s(t.l_name))])]),n("div",{staticClass:"m-talent2-content",style:{"background-image":t.xf?t.lCount?"url("+t.talentBg("left",1)+")":"url("+t.talentBg("left",0)+")":""}},t._l(t.talentContent.left,(function(e,a){return n("div",{key:"l"+a,staticClass:"m-talent2-content-row",class:[t.canOperate(a,"left")?"":"m-talent2-content-row-disabled"]},[t._l(e,(function(e,i){return[e?n("div",{key:i,staticClass:"m-talent2-content-item",class:[{"m-talent2-content-item-skill":"skill"===e.type},{"m-talent2-content-item-inactive":!Number(t.l_data[a][i])},t.canOperate(a,"left")?"":"m-talent2-content-item-disabled"],on:{click:function(n){return t.leftTalentAdd(e,a,i)},contextmenu:function(e){return e.preventDefault(),t.leftTalentDecrease(a,i)}}},[n("div",{staticClass:"m-talent2-skill",attrs:{title:e.desc}},[n("img",{attrs:{src:t._f("talentIcon")(e.icon),alt:e.name}})]),Number(t.l_data[a][i])?n("span",{staticClass:"m-talent2-content-item-count"},[t._v(t._s(t.l_data[a][i]))]):t._e(),e.children.length?n("i",{staticClass:"el-icon-bottom m-talent2-content-item-relate"}):t._e()]):n("div",{key:i,staticClass:"m-talent2-content-item-empty"})]}))],2)})),0)]),n("div",{staticClass:"m-talent2-right"},[n("div",{staticClass:"m-talent2-title"},[n("img",{staticClass:"m-talent2-xf-icon",attrs:{src:t._f("xficon")(t.xfContent[1])}}),n("span",{staticClass:"m-talent2-title-count"},[t._v(t._s(t.rCount))]),n("span",{staticClass:"m-talent2-title-name"},[t._v(t._s(t.r_name))])]),n("div",{staticClass:"m-talent2-content",style:{"background-image":t.xf?t.rCount?"url("+t.talentBg("right",1)+")":"url("+t.talentBg("right",0)+")":""}},t._l(t.talentContent.right,(function(e,a){return n("div",{key:"l"+a,staticClass:"m-talent2-content-row",class:[t.canOperate(a,"right")?"":"m-talent2-content-row-disabled"]},[t._l(e,(function(e,i){return[e?n("div",{key:i,staticClass:"m-talent2-content-item",class:[{"m-talent2-content-item-skill":"skill"===e.type},{"m-talent2-content-item-inactive":!Number(t.r_data[a][i])},t.canOperate(a,"right")?"":"m-talent2-content-item-disabled"],on:{click:function(n){return t.rightTalentAdd(e,a,i)},contextmenu:function(e){return e.preventDefault(),t.rightTalentDecrease(a,i)}}},[n("div",{staticClass:"m-talent2-skill",attrs:{title:e.desc}},[n("img",{attrs:{src:t._f("talentIcon")(e.icon),alt:e.name}})]),Number(t.r_data[a][i])?n("span",{staticClass:"m-talent2-content-item-count"},[t._v(t._s(t.r_data[a][i]))]):t._e(),e.children.length?n("i",{staticClass:"el-icon-bottom m-talent2-content-item-relate"}):t._e()]):n("div",{key:i,staticClass:"m-talent2-content-item-empty"})]}))],2)})),0)])]),n("h2",{staticClass:"m-talent-subtitle"},[t._v("镇派编码")]),n("div",{staticClass:"m-talent-code"},[n("el-input",{attrs:{placeholder:"奇穴编码"},on:{change:t.parseSchema},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}},[n("template",{slot:"prepend"},[n("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.code,expression:"code",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"u-copy"},[n("i",{staticClass:"el-icon-document-copy"}),n("span",[t._v("点击复制")])])])],2)],1),n("p",{staticClass:"m-talent-tip"},[n("i",{staticClass:"el-icon-info"}),t._v(" 粘贴编码亦可自动解析镇派 ")])])]),n("Footer")],1)],1)}),u=[],f=n("3835"),d=(n("0481"),n("d81d"),n("ac1f"),n("1276"),n("a9e3"),n("a15b"),n("99af"),n("caad"),n("2532"),n("a434"),n("fb6a"),n("d3b7"),n("216c")),m=n("46d4"),h=n("65c2"),p=n("3a7a"),g={name:"Talent2",props:[],data:function(){return{xf:"",code:"",begin:"right",l_name:"斩绝",r_name:"封魂",version:"不删档公测",versions:[],talents:[],xfmap:m,total:33,l_data:["0000","0000","0000","0000","0000","0000"],r_data:["0000","0000","0000","0000","0000","0000"],series_open_need:26,xfContent:[],talentContent:{left:[],right:[]}}},computed:{lCount:function(){return this.l_data.length?this.l_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})):0},rCount:function(){return this.r_data.length?this.r_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})):0},leftLastIndex:function(){for(var t=0,e=this.l_data.length-1;e>0;e--)if(Number(this.l_data[e])){t=e;break}return t},rightLastIndex:function(){for(var t=0,e=this.r_data.length-1;e>0;e--)if(Number(this.r_data[e])){t=e;break}return t},totalCount:function(){return this.lCount+this.rCount},talent2Data:function(){return"left"===this.begin?this.l_data.concat(this.r_data).join(","):this.r_data.concat(this.l_data).join(",")}},methods:{reload:function(t){},onCopy:function(t){this.$notify({title:"复制成功",message:"编码复制成功",type:"success"})},onError:function(){this.$notify.error({title:"复制失败",message:"请手动复制"})},isOrigin:function(t){return t["client"].includes("origin")},parseSchema:function(){},canOperate:function(t,e){return"left"===e?this.lCount>=5*t:this.rCount>=5*t},leftTalentAdd:function(t,e,n){var a=t.max,i=t.parent;if("right"===this.begin&&this.rCount<this.series_open_need)this.$notify.warning({title:"提醒",message:"主talent需要先激活".concat(this.series_open_need,"点，才能激活本区域的talent")});else{if(null!==i&&void 0!==i&&i.length){var s=Object(f["a"])(i,1),l=s[0],r=Number(this.l_data[l.row][l.index]);if(!r)return void this.$message({type:"warning",message:"该talent存在前置talent，需先激活前置talent"})}if(this.totalCount>=this.total)this.$message({type:"warning",message:"最大加点数为"+this.total});else{var o=Number(this.l_data[e][n]);if(o<a){o++;var c=this.l_data[e].split("");c[n]=String(o),this.l_data.splice(e,1,c.join(""))}else this.$message({type:"warning",message:"该talent已达最高层数"})}}},leftTalentDecrease:function(t,e){var n=Number(this.l_data[t][e]);if(n>0){if(t<this.l_data.length-1){var a=0,i=this.l_data.slice(0,t+1),s=this.l_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)}));if(a=i.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})),a<=5*(this.leftLastIndex+1)&&s>a)return void this.$notify.warning({title:"提醒",message:"不能再减啦"})}n--;var l=this.l_data[t].split("");l[e]=String(n),this.l_data.splice(t,1,l.join(""))}},rightTalentAdd:function(t,e,n){var a=t.max,i=t.parent;if("left"===this.begin&&this.lCount<this.series_open_need)this.$notify.warning({title:"提醒",message:"主talent需要先激活".concat(this.series_open_need,"点，才能激活本区域的talent")});else{if(null!==i&&void 0!==i&&i.length){var s=Object(f["a"])(i,1),l=s[0],r=Number(this.r_data[l.row][l.index]);if(!r)return void this.$message({type:"warning",message:"该talent存在前置talent，需先激活前置talent"})}if(this.totalCount>=this.total)this.$message({type:"warning",message:"最大加点数为"+this.total});else{var o=Number(this.r_data[e][n]);if(o<a){o++;var c=this.r_data[e].split("");c[n]=String(o),this.r_data.splice(e,1,c.join(""))}else this.$message({type:"warning",message:"该talent已达最高层数"})}}},rightTalentDecrease:function(t,e){var n=Number(this.r_data[t][e]);if(n>0){if(t<this.r_data.length-1){var a=0,i=this.r_data.slice(0,t+1),s=this.r_data.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)}));if(a=i.map((function(t){return t.split("")})).flat().reduce((function(t,e){return Number(t)+Number(e)})),a<=5*(this.rightLastIndex+1)&&s>a)return void this.$notify.warning({title:"提醒",message:"不能再减啦"})}n--;var l=this.r_data[t].split("");l[e]=String(n),this.r_data.splice(t,1,l.join(""))}},talentBg:function(t,e){if(t)return"left"===t?h["__imgPath"]+"image/talent/".concat(this.xfContent[0],"_").concat(e,".png"):h["__imgPath"]+"image/talent/".concat(this.xfContent[1],"_").concat(e,".png")},getVersions:function(){var t=this;fetch(h["__ossRoot"]+"/data/talent2/index.json").then((function(t){return t.json()})).then((function(e){var n;t.versions=e,t.version=null===(n=t.versions[0])||void 0===n?void 0:n.version}))},getTalents:function(){var t=this;fetch(h["__ossRoot"]+"/data/talent2/"+this.version+".json").then((function(t){return t.json()})).then((function(e){t.talents=e}))}},filters:{xficon:function(t){return h["__imgPath"]+"image/xf/"+t+".png"},talentIcon:function(t){return h["__iconPath"]+"icon/"+t+".png"}},watch:{version:function(t){t&&this.getTalents()},xf:function(t){var e,n;t&&(this.xfContent=null===(e=p["a"][t])||void 0===e?void 0:e.content,this.begin=null===(n=p["a"][t])||void 0===n?void 0:n.begin,this.talentContent.left=this.talents[p["a"][t].talent[0]],this.talentContent.right=this.talents[p["a"][t].talent[1]])},talent2Data:function(t){var e={version:this.version,xf:this.xf,sq:t};this.code=JSON.stringify(e)}},mounted:function(){this.getVersions()},components:{Nav:d["a"]}},v=g,_=(n("46f2"),n("2877")),b=Object(_["a"])(v,c,u,!1,null,null,null),C=b.exports;a["default"].config.productionTip=!1,a["default"].use(s.a),a["default"].use(r.a),a["default"].use(o["a"]),new a["default"]({render:function(t){return t(C)}}).$mount("#app")}});
//# sourceMappingURL=talent2.d3ea5aff.js.map