(function(t){function e(e){for(var i,s,c=e[0],r=e[1],l=e[2],f=0,d=[];f<c.length;f++)s=c[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,c=1;c<n.length;c++){var r=n[c];0!==a[r]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={icon:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="https://console.cnyixun.com/static/app/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;o.push([4,"chunk-vendors","chunk-common"]),n()})({4:function(t,e,n){t.exports=n("b93c")},"5b64":function(t,e,n){},"6ffc":function(t){t.exports=JSON.parse("[13,316,109,245,889,2178,2179,2180,2588,2589,2646,2647,2648,2789,3089,3111,3112,3113,3114,3115,3116,3117,3118,3119,3120,3121,3122,3123,3137,3138,3139,3140,3321,4704,4707,4708,4709,4710,4835,4853,5389,8848,10451,10452,10909]")},"979c":function(t,e,n){"use strict";n("5b64")},b93c:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=n("5c96"),o=n.n(a),s=n("4eb5"),c=n.n(s),r=n("6a69"),l=(n("6b30"),n("c5b4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("Breadcrumb",{attrs:{name:"图标大全",slug:"icons",root:"/app/icons",feedbackEnable:!0,crumbEnable:!0}},[n("svg",{attrs:{slot:"logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 54.4 54.4","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},slot:"logo"},[n("path",{attrs:{d:"M4.9 21l19.6 24.4L15.6 21zM17.4 21l9.5 26 9.7-26zM29 46l20.2-25H38.3zM41.5 7.8H28.7l8.8 10.8zM36 19.3l-9-11-9 11zM25.3 7.8H12.5l4 10.8zM11.2 8.9L4.6 19.3H15zM49.4 19.3L42.8 8.8l-3.9 10.5z"}})])]),n("LeftSidebar",{attrs:{open:!1}},[n("Nav")],1),n("Main",{attrs:{withoutRight:!0,withoutLeft:!0}},[n("div",{staticClass:"m-icons"},[n("h1",{staticClass:"m-icons-title"},[t._v("剑三图标库")]),n("div",{staticClass:"m-icons-box"},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeTabName,callback:function(e){t.activeTabName=e},expression:"activeTabName"}},[n("el-tab-pane",{attrs:{label:"图标库",name:"icon",lazy:""}},[n("div",{staticClass:"searchbar-wrapper"},[n("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入搜索条件，例如：3089、1-100、幽月乱花"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearchIcon(e)}},model:{value:t.searchIconInput,callback:function(e){t.searchIconInput=e},expression:"searchIconInput"}},[n("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleSearchIcon},slot:"append"})],1),n("div",{staticClass:"m-icon-search-tip"},[n("ul",[n("li",[t._v("输入单个数字，例如1，返回IconID为1的图标；")]),n("li",[t._v("输入多个数字，例如2,4,6（支持中英文逗号“,”,顿号“、”,斜杠“/”,竖杠“|”），返回IconID分别为2,4,6的三个图标；")]),n("li",[t._v("输入范围区间，例如1~100或1-100，返回IconID从1至100的100个图标；")]),n("li",[t._v("可以同时输入多个数字和多个范围，例如2,3,11-14,17，返回IconID分别为2,3,11,12,13,14,17的7个图标；")]),n("li",[t._v("输入单个图标名称，可以根据名称模糊搜索相关图标，例如：幽月、幽月乱花。")]),n("li",[t._v("每次上限500个")])])])],1),n("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.isSearchingByName,expression:"isSearchingByName"}],staticClass:"m-icon-list"},[n("el-alert",{attrs:{title:"以下为部分图标展示，请在上方自定义搜索范围。点击图标即可收藏。",type:"warning",center:"","show-icon":""}}),t._l(t.iconsList,(function(e,i){return n("li",{key:i,on:{mouseleave:t.handleMouseLeaveIcon}},[n("i",{staticClass:"u-pic",on:{click:function(n){return t.handleAddFavorite(i,e)}}},[n("el-image",{staticClass:"u-img",attrs:{src:""+t.IconPath+e+".png",lazy:""}},[n("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[n("i",{staticClass:"el-icon-loading"})]),n("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[n("i",{staticClass:"el-icon-warning-outline"})])]),n("span",{staticClass:"u-love"},[n("i",{staticClass:"w-heart",class:{"w-heart-animation":i==t.clickedIndex}})])],1),n("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e,expression:"icon",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"u-iconid",attrs:{title:"点击快速复制"}},[t._v(t._s(e))])])})),t.isSearchingByName&&0===t.iconsList.length?n("div",{staticClass:"loading-placeholder"}):t._e()],2)]),n("el-tab-pane",{attrs:{label:"收藏图标",name:"favicon",lazy:"",loading:t.isSynchronizing}},["favicon"===t.activeTabName?n("ul",{staticClass:"m-icon-list"},[t.faviconNeedsSync?n("el-alert",{staticClass:"m-icons-sync",attrs:{title:"本地有收藏图标未同步到服务器",type:"info",center:"","show-icon":""}},[n("el-button",{attrs:{type:"text"},on:{click:t.syncFavicon}},[t._v("点此同步未登录收藏数据")])],1):t._e(),t.faviconsList.length?n("ul",[n("transition-group",{attrs:{name:"el-fade-in"}},t._l(t.faviconsList,(function(e,i){return n("li",{key:e},[n("i",{staticClass:"u-pic"},[n("el-image",{staticClass:"u-img",attrs:{src:""+t.IconPath+e+".png",lazy:""}},[n("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[n("i",{staticClass:"el-icon-loading"})]),n("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[n("i",{staticClass:"el-icon-warning-outline"})])]),n("span",{staticClass:"u-remove",on:{click:function(n){return t.handleRemoveFavorite(i,e)}}})],1),n("span",{staticClass:"u-iconid"},[t._v(" "+t._s(e)+" ")])])})),0)],1):n("el-alert",{attrs:{title:"没有收藏的图标",type:"info","show-icon":""}})],1):t._e()]),n("el-tab-pane",{attrs:{label:"表情包",name:"emoji",lazy:""}},[n("ul",{staticClass:"m-emotion-nav"},t._l(t.emojiCategoryOptions,(function(e,i){return n("li",{key:e.name,class:{active:i===t.emojiSelection},on:{click:function(e){return t.handleSelectEmojiCategory(i)}}},[t._v(" "+t._s(e.name)+" "),n("span",[t._v("("+t._s(e.total)+")")])])})),0),n("el-select",{staticClass:"m-emotion-selection",attrs:{placeholder:"请选择"},model:{value:t.emojiSelection,callback:function(e){t.emojiSelection=e},expression:"emojiSelection"}},t._l(t.emojiCategoryOptions,(function(e,i){return n("el-option",{key:e.name,attrs:{value:i,label:e.name}},[n("span",{staticStyle:{float:"left"}},[t._v(" "+t._s(e.name)+" ")]),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v("共"+t._s(e.total)+"个")])])})),1),t.emojiCategoryOptions.length>0?[n("ul",{staticClass:"m-emotion-list"},t._l(t.emojiCategoryOptions[t.emojiSelection].total,(function(e,i){return n("li",{key:e},[n("el-image",{attrs:{src:""+t.EmojiPath+t.emojiCategoryOptions[t.emojiSelection].name+"/"+i+".gif",lazy:""}},[n("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[n("i",{staticClass:"el-icon-loading"})]),n("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[n("i",{staticClass:"el-icon-warning-outline"})])])],1)})),0),n("el-button",{staticClass:"btn-download-emoji",attrs:{loading:t.isDownloadingEmoji,type:"primary",plain:"",icon:"el-icon-download"},nativeOn:{click:function(e){return e.stopPropagation(),t.handleDownloadEmoji(e)}}},[n("div",{staticClass:"m-emotion-down"},[n("b",[t._v("立即下载")])])])]:t._e()],2)],1)],1),n("Footer")],1)])],1)}),u=[],f=n("1da1"),d=n("b85c"),h=(n("96cf"),n("caad"),n("2532"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("6062"),n("a630"),n("b0c0"),n("a434"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("fb6a"),n("a15b"),n("8f33"),n("216c")),p=n("408b"),v=n("ee8f"),m=n("c9d2"),g=n("bc3a"),b=n.n(g),y=n("41cb"),w=n("65c2");function j(t){return b.a.get("".concat(w["__node"],"icon/name/").concat(t)).then((function(t){return t.data}))}function L(){return Object(y["b"])().get("api/cms/user/my/meta",{params:{key:"favicons"}}).then((function(t){return t.data.data}))}function C(t){return Object(y["b"])().post("api/cms/user/my/meta",{val:t},{params:{key:"favicons"}}).then((function(t){return t.data.data}))}var S=n("6ffc"),I={name:"Icons",data:function(){return{activeTabName:"icon",searchIconInput:"",iconsList:[],clickedIndex:-1,IconPath:v["JX3BOX"].__iconPath+"icon/",EmojiPath:v["JX3BOX"].__ossMirror+"emotion/official_mini/",faviconsList:null,localFaviconsList:[],isSynchronizing:!1,total:{},emojiCategoryOptions:[],emojiSelection:0,isDownloadingEmoji:!1,isSearchingByName:!1,uid:0}},computed:{faviconNeedsSync:function(){if(!this.localFaviconsList||!this.faviconsList||0===this.localFaviconsList.length)return!1;if(this.localFaviconsList.length!==this.faviconsList.length)return!0;var t,e=Object(d["a"])(this.localFaviconsList);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(!this.faviconsList.includes(n))return!0}}catch(i){e.e(i)}finally{e.f()}return!1}},methods:{prepareMounted:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.iconsList=S,t.getFromLocal(),n=v["JX3BOX"].__staticPath.jsdelivr+"jx3-icon@1.1.0/icon.json",i=Object(p["a"])(n,"GET"),a=v["JX3BOX"].__staticPath.jsdelivr+"jx3-icon@1.1.0/emotion.json",o=Object(p["a"])(a,"GET"),null,t.uid?t.getSavedIcons():t.getFromLocal(),!1,Promise.all([i,o]).then((function(e){t.total.icons=e[0].icon,t.emojiCategoryOptions=e[1]})).catch((function(t){console.log(t)}));case 10:case"end":return e.stop()}}),e)})))()},syncFavicon:function(){this.isSynchronizing=!0;var t=this.faviconsList.concat(this.localFaviconsList);t=new Set(t),this.faviconsList=Array.from(t),this.setSavedIcons(),window.localStorage&&(localStorage.removeItem("favicons"),this.localFaviconsList=null)},handleDownloadEmoji:function(){this.isDownloadingEmoji=!0;var t=document.createElement("a");t.href="".concat(this.EmojiPath).concat(this.emojiCategoryOptions[this.emojiSelection].name,".zip"),t.download="".concat(this.emojiCategoryOptions[this.emojiSelection].name,".zip"),t.click(),this.isDownloadingEmoji=!1},handleSelectEmojiCategory:function(t){this.emojiSelection=t},handleClick:function(t,e){},handleAddFavorite:function(t,e){this.clickedIndex=t;var n=e+"";this.faviconsList.includes(n)||(this.faviconsList.push(n),this.setSavedIcons())},handleRemoveFavorite:function(t,e){var n=this.faviconsList.indexOf(e);-1!==n&&(this.faviconsList.splice(n,1),this.setSavedIcons())},handleMouseLeaveIcon:function(){this.clickedIndex=-1},handleSearchIcon:function(){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function e(){var n,i,a,o,s,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(500,n=0,i=1,a=[],o=t.searchIconInput.replace(/\ /g,""),""!==o){e.next=7;break}return e.abrupt("return");case 7:if(s=[],c=[],o=o.replace(/，|、|\/|\||\\/g,","),o=o.replace(/~/g,"-"),r=/^[0-9]+$/,o.includes(",")||o.includes("-")||r.test(o)){e.next=19;break}return t.isSearchingByName=!0,e.next=16,t.searchIconByName(o);case 16:return e.sent,t.isSearchingByName=!1,e.abrupt("return");case 19:o.includes(",")&&o.includes("-"),o.includes(",")&&(c=o.split(",")),0===c.length&&(c=[o]),c.forEach((function(t){if(t.includes("-")){if(a=t.split("-"),n=parseInt(a[0]),i=parseInt(a[a.length-1]),!isNaN(n)&&!isNaN(i))if(n>i)for(var e=i;e<=n;++e)s.includes(e)||s.push(e);else for(var o=n;o<=i;++o)s.includes(o)||s.push(o)}else isNaN(parseInt(t))||s.push(parseInt(t))})),t.iconsList=s.slice(0,500);case 24:case"end":return e.stop()}}),e)})))()},searchIconByName:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:j(t).then((function(t){var n=[];for(var i in t)t[i].forEach((function(t){var e=t.iconID+"";n.includes(e)||n.push(e)}));e.iconsList=n})).catch((function(t){e.getFromLocal()}));case 1:case"end":return n.stop()}}),n)})))()},getUserId:function(){m["a"].isLogin()&&(this.uid=m["a"].getInfo().uid)},getSavedIcons:function(){var t=this;this.uid?L().then((function(e){var n=e;n?(n.includes("[")&&(n=n.replace(/[\[\]"\ ]/g,"")),t.faviconsList=n.split(",")):t.faviconsList=[]})).catch((function(e){t.faviconsList=t.localFaviconsList})):this.faviconsList=this.localFaviconsList},getFromLocal:function(){if(window.localStorage){var t=localStorage.getItem("favicons");t&&(t.includes("[")&&(t=t.replace(/[\[\]"\ ]/g,"")),this.localFaviconsList=t.split(","))}},setSavedIcons:function(){var t=this;this.uid?C(this.faviconsList.join(",")).then((function(t){})).catch((function(e){var n=t.faviconsList;t.localFaviconsList&&t.localFaviconsList.length>0&&(n=t.localFaviconsList.concat(t.faviconsList)),n=new Set(n),t.faviconsList=Array.from(n),t.setToLocal()})).finally((function(){t.isSynchronizing=!1})):(this.setToLocal(),this.isSynchronizing=!1)},setToLocal:function(){if(window.localStorage){var t=this.faviconsList.join(",");localStorage.setItem("favicons",t),this.localFaviconsList=this.faviconsList}},onCopy:function(t){this.$notify({title:"复制成功",message:"复制内容 : "+t.text,type:"success"})},onError:function(){this.$notify.error({title:"复制失败",message:"请手动复制"})}},filters:{},mounted:function(){this.getUserId(),this.prepareMounted(),this.getSavedIcons()},components:{Nav:h["a"]}},_=I,k=(n("979c"),n("2877")),O=Object(k["a"])(_,l,u,!1,null,null,null),x=O.exports;i["default"].config.productionTip=!1,i["default"].use(o.a),i["default"].use(c.a),i["default"].use(r["a"]),new i["default"]({render:function(t){return t(x)}}).$mount("#app")}});
//# sourceMappingURL=icon.0616b6a8.js.map