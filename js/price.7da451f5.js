(function(e){function t(t){for(var r,n,o=t[0],c=t[1],l=t[2],m=0,d=[];m<o.length;m++)n=o[m],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(r=!1)}r&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},i={price:0},s=[];function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://console.cnyixun.com/static/app/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var p=c;s.push([10,"chunk-vendors","chunk-common"]),a()})({10:function(e,t,a){e.exports=a("e422")},"16f1":function(e,t,a){},"5aac":function(e,t,a){"use strict";a("16f1")},e422:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=a("5c96"),s=a.n(i),n=a("6a69"),o=(a("6b30"),a("c5b4"),a("9ca8")),c=(a("15af"),a("94b1"),a("fa52"),a("ef97"),a("007d"),a("db0e"),a("95a8"),a("0a6d"),function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("Header"),t("Breadcrumb",{attrs:{name:"金价走势",slug:"price",root:"/app/price",feedbackEnable:!0,crumbEnable:!0}},[t("img",{attrs:{slot:"logo","svg-inline":"",src:e.getIcon("price")},slot:"logo"})]),t("LeftSidebar",{attrs:{open:!1}},[t("Nav")],1),t("Main",{attrs:{withoutRight:!0,withoutLeft:!0}},[t("div",{staticClass:"m-price"},[t("h1",{staticClass:"m-price-title"},[e._v("剑三全区服金价走势")]),t("div",{directives:[{name:"loading",rawName:"v-loading",value:""===e.currentGate,expression:"currentGate === ''"}],staticClass:"m-price-box"},[t("div",{staticClass:"m-price-board board-wrapper"},[t("div",{staticClass:"m-price-header title-wrapper"},[t("span",{staticClass:"title-server-name"},[e._v(" "+e._s(""!==e.currentServer?e.currentServer:"请选择一个服务器")+" ")]),t("p",{staticClass:"title-origin"},[e._v(" 数据来源： "),t("el-link",{attrs:{type:"primary",href:"https://jx3.seasunwbl.com/",target:"_blank"}},[e._v("万宝楼")])],1)]),t("div",{staticClass:"m-price-nav"},[t("el-tabs",{attrs:{"tab-position":"top"},on:{"tab-click":e.changeServer},model:{value:e.currentGate,callback:function(t){e.currentGate=t},expression:"currentGate"}},e._l(e.serverList,(function(e,a){return t("el-tab-pane",{key:a,attrs:{label:e.serverName,name:e.serverName}})})),1)],1),t("div",{staticClass:"m-price-notice hint"},[e._v(" ♥ 请选择正规平台！警惕交易陷阱！部分虚假交易平台会用低价骗取您购买，但充值后又提示该订单已被出售或无货，导致你的钱在一段时间无法及时提现，而且你提现时又要再次收取手续费。 "),t("span",{staticStyle:{color:"#c00","font-weight":"bold"}},[e._v("单价越高，表示1元能买到更多的金，也就说明金价越便宜喔！")])]),e.singleServerPrice.today?t("div",{staticClass:"m-price-overview"},[t("el-row",{staticClass:"card-wrapper card-wrapper-single-server",attrs:{gutter:20}},[t("el-col",{attrs:{xs:24,md:8}},[t("el-card",[t("div",{staticClass:"card-price-summary u-lowest"},[t("div",{staticClass:"price-summary-title"},[e._v("昨日统计 （金/￥）")]),t("div",{staticClass:"price-summary-price"},[t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-number"},[e._v(" "+e._s(e.singleServerPrice.yesterday["official"])+" ")])]),t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-number"},[e._v(" "+e._s(e.singleServerPrice.yesterday["5173"])+" ")])]),t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-number"},[e._v(" "+e._s(e.singleServerPrice.yesterday["post"])+" ")])])]),t("div",{staticClass:"price-summary-price"},[t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-mini"},[e._v("万宝楼")])]),t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-mini"},[e._v("5173")])]),t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-mini"},[e._v("贴吧")])])])])])],1),t("el-col",{attrs:{xs:24,md:8}},[t("el-card",[t("div",{staticClass:"card-price-summary u-highest"},[t("div",{staticClass:"price-summary-title"},[e._v("今日数据 （金/￥）")]),t("div",{staticClass:"price-summary-price"},[t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-number"},[e._v(" "+e._s(e.mean(e.singleServerPrice.today["official"]))+" ")])]),t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-number"},[e._v(" "+e._s(e.mean(e.singleServerPrice.today["5173"]))+" ")])]),t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-number"},[e._v(" "+e._s(e.mean(e.singleServerPrice.today["post"]))+" ")])])]),t("div",{staticClass:"price-summary-price"},[t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-mini"},[e._v("万宝楼")])]),t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-mini"},[e._v("5173")])]),t("div",{staticClass:"price-summary-detail"},[t("span",{staticClass:"price-summary-mini"},[e._v("贴吧")])])])])])],1),t("el-col",{attrs:{xs:24,md:8}},[t("el-card",[t("div",{staticClass:"card-price-summary card-price-recommend"},[t("div",{staticClass:"price-summary-title"},[e._v("建议成交价")]),t("div",{staticClass:"price-summary-price"},[t("b",[e._v(" "+e._s(e.singleServerPrice.recommend)+" ")]),e._v(" 金 / ￥100 ")]),t("div",{staticClass:"price-summary-server"},[e._v(" 近三天平均成交价 在扣除手续费及提现费之前的价格 ")])])])],1)],1)],1):e._e(),t("div",{staticClass:"m-price-chart chart-wrapper"},[t("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.currentGate,expression:"currentGate !== ''"}],staticClass:"chart-div chart-line"},[t("v-chart",{attrs:{options:e.lineOption,autoresize:!0},on:{legendselectchanged:e.onLineChartLegendselectchanged}})],1)])])])]),t("Footer")],1)],1)}),l=[],p=a("b85c"),m=a("3835"),d=a("2909"),u=a("c7eb"),v=a("1da1"),h=(a("99af"),a("b0c0"),a("a15b"),a("d3b7"),a("3ca3"),a("ddb0"),a("4e82"),a("b680"),a("ac1f"),a("1276"),a("4fadc"),a("159b"),a("d81d"),a("8237"),a("216c")),f=a("408b"),y=a("ee8f"),b=a("c9d2"),g=a("f9cf"),S=a("b2ba"),x=a("65c2"),w={name:"Price",data:function(){return{searchServerName:"",isShowMainServer:!0,serverList:{},pinnedServerName:"gate0000",currentServer:"",currentGate:"",allPriceDataRaw:{},allServersPrice:{},singleServerPrice:{},singleServerDisplayTotalFull:!1,scatterOption:{tooltip:{show:!0,formatter:function(e){return"服务器：".concat(e.name,"<br />金价：").concat(e.data[0],"金/￥")}},grid:{show:!0,height:"80%",left:56,right:16},xAxis:{scale:!0},yAxis:{type:"category",data:[],axisLine:{show:!0},boundaryGap:!1,axisTick:{show:!1,alignWithLabel:!1,inside:!0},splitLine:{show:!0,interval:0}},series:[{symbolSize:10,data:[],itemStyle:{color:"rgba(64,158,255, 0.5)"},type:"scatter"}]},barOption:{tooltip:{show:!0,formatter:"{b}<br />均价 {c}金/￥"},grid:{height:"80%",left:38,right:8},xAxis:{type:"category",data:[],axisTick:{show:!1},axisLabel:{fontSize:10}},yAxis:{type:"value",name:"均价",nameLocation:"end",nameGap:10,scale:!0},series:[{data:[],type:"bar",itemStyle:{color:"rgb(64,158,255)"}}]},boxplotOption:{tooltip:{trigger:"item",axisPointer:{type:"shadow"}},grid:{left:12,right:16,bottom:"20%"},yAxis:{type:"category",data:[],show:!1},xAxis:{type:"value",splitArea:{show:!1},scale:!0,nameTextStyle:{},axisLabel:{}},series:[{name:"boxplot",type:"boxplot",data:[],tooltip:{formatter:function(e){return["可靠最高价："+e.data[5],"上四分位价："+e.data[4],"较可靠均价："+e.data[3],"下四分位价："+e.data[2],"可靠最低价："+e.data[1]].join("<br/>")}},itemStyle:{borderColor:"rgb(255, 70, 131)"}},{name:"outlier",type:"scatter",data:[],itemStyle:{color:"rgba(64,158,255, 0)"},tooltip:{formatter:function(e){return"极端价："+e.data[0]}}},{symbolSize:10,data:[],type:"scatter",encode:{x:1,y:2},silent:!0,itemStyle:{color:"rgba(64,158,255, 0.5)"}}]},lineOption:{legend:{show:!0,top:0},tooltip:{trigger:"item",axisPointer:{type:"cross"},formatter:function(e){return e.seriesName?"[".concat(e.seriesName,"]<br />").concat(e.name,"<br />").concat(e.value,"金/￥"):"".concat(e.name,"<br />").concat(e.value,"金/￥")}},grid:{bottom:60,top:50,left:38,right:50},xAxis:{type:"category",data:[],axisTick:{show:!0,alignWithLabel:!0},boundaryGap:["10%","10%"],inverse:!0},yAxis:{type:"value",scale:!0,axisPointer:{label:{precision:0}}},dataZoom:[{start:0,end:100,bottom:0}],series:[{type:"line",name:"5173",animationDuration:300,smooth:!1,symbol:"circle",symbolSize:10,sampling:"average",itemStyle:{color:"rgb(255, 70, 131)"},data:[],markPoint:{data:[{type:"max",name:"[5173]最大值"},{type:"min",name:"[5173]最小值"}],itemStyle:{color:"rgb(255, 70, 131)"},symbolOffset:[0,"-10%"]},markLine:{data:[{type:"median",label:{position:"start",formatter:"[5173]\n均价\n{c}"},name:"[5173]均价"}],lineStyle:{color:"rgb(255, 70, 131)",width:3,type:"dotted"},symbol:"none"}},{type:"line",animationDuration:300,smooth:!1,symbol:"none",symbolSize:0,sampling:"average",itemStyle:{color:"rgb(255, 70, 131)"},data:[],connectNulls:!0,lineStyle:{type:"dashed"},silent:!0},{type:"line",name:"万宝楼",animationDuration:300,smooth:!1,symbol:"circle",symbolSize:10,sampling:"average",itemStyle:{color:"rgb(64,158,255)"},data:[],markPoint:{data:[{type:"max",name:"[万宝楼]最大值"},{type:"min",name:"[万宝楼]最小值"}],itemStyle:{color:"rgb(64,158,255)"},symbolOffset:[0,"-10%"]},markLine:{data:[{type:"median",label:{position:"start",formatter:"[万宝楼]\n均价\n{c}"},name:"[万宝楼]均价"}],lineStyle:{color:"rgb(64,158,255)",width:3,type:"dotted"},symbol:"none"}},{type:"line",animationDuration:300,smooth:!1,symbol:"none",symbolSize:0,sampling:"average",itemStyle:{color:"rgb(64,158,255)"},data:[],connectNulls:!0,lineStyle:{type:"dashed"},silent:!0},{type:"line",name:"贴吧",animationDuration:300,smooth:!1,symbol:"circle",symbolSize:10,sampling:"average",itemStyle:{color:"#22c3aa"},data:[],markPoint:{data:[{type:"max",name:"[贴吧]最大值"},{type:"min",name:"[贴吧]最小值"}],itemStyle:{color:"#22c3aa"},symbolOffset:[0,"-10%"]},markLine:{data:[{type:"median",label:{position:"start",formatter:"[贴吧]\n均价\n{c}"},name:"[贴吧]均价"}],lineStyle:{color:"#22c3aa",width:3,type:"dotted"},symbol:"none"}},{type:"line",animationDuration:300,smooth:!1,symbol:"none",symbolSize:0,sampling:"average",itemStyle:{color:"#22c3aa"},data:[],connectNulls:!0,lineStyle:{type:"dashed"},silent:!0}]},defaultServer:"蝶恋花"}},computed:{},methods:{getIcon:function(e){return x["__imgPath"]+"image/box/"+e+".svg"},prepareMounted:function(){var e=this;return Object(v["a"])(Object(u["a"])().mark((function t(){var a,r,i,s,n,o,c,l;return Object(u["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a={},r="https://spider.jx3box.com/jx3price",i={},s=Object(f["a"])(r,"GET",!1,{},{},i),n=e.defaultServer,e.uid?(o=Object(f["b"])(y["JX3BOX"].__cms,"api/cms/user/my/profile"),n=Object(f["a"])(o,"GET",!0)):n=e.getFromLocal(),c=e.defaultServer,l=!1,Promise.all([n,s]).then((function(t){if(S&&S.server_dict)for(var r in S.server_dict)a[r]={serverName:S.server_dict[r],isPinned:!1,gate:r};e.serverList=a,c=t[0].data.jx3_server||e.defaultServer;var i=t[1];void 0!==i.code&&0===i.code&&(e.allPriceDataRaw=i.data),e.currentGate=c,l=!0})).then((function(){l&&(e.parsePriceData(),e.showServer())})).catch((function(e){console.log(e)}));case 9:case"end":return t.stop()}}),t)})))()},median:function(e){var t=Math.floor(e.length/2),a=Object(d["a"])(e).sort((function(e,t){return e-t}));return e.length%2!==0?a[t]:(a[t-1]+a[t])/2},mean:function(e){for(var t=0,a=0,r=0;r<e.length;r++){var i=e[r];i&&0!=i&&(t+=i,++a)}return 0===a?"无数据":(Math.floor(t/a*100)/100).toFixed(2)},calcRecommend:function(){for(var e=0,t=0;t<3;++t){var a=this.singleServerPrice.trend[t],r=Math.max(a["5173"],a["post"],a["official"]/.9405);e+=r}return Math.floor(e/3*100)},clickServer:function(e,t){this.currentGate!==t&&(this.currentGate=t,this.showServer(),this.parsePriceData())},changeServer:function(e,t){this.showServer(),this.parsePriceData()},showServer:function(){this.currentServer=this.currentGate},loadAllServers:function(){var e=y["JX3BOX"].__spider+"jx3servers";Object(f["a"])(e,"GET").then((function(e){e.msg})).catch((function(e){console.log(e)})).then((function(){}))},parsePriceData:function(){this.parseSingleServerData()},parseAllServersData:function(){var e=this.allPriceDataRaw["gate0000"];this.allServersPrice={median:this.median(e.average_arr.split(",")),highest:e.highest,highest_server:this.serverList[e.highest_server].serverName,lowest:e.lowest,lowest_server:this.serverList[e.lowest_server].serverName},this.drawScatterChart(),this.drawBarChart()},drawScatterChart:function(){var e=this;if(!(this.scatterOption.series[0].data.length>0)){for(var t=[],a=0,r=Object.entries(this.serverList);a<r.length;a++){var i=Object(m["a"])(r[a],2),s=(i[0],i[1]);t.push(s.serverName)}t.push(""),this.scatterOption.yAxis.data=t;for(var n=[],o=function(){var t=Object(m["a"])(l[c],2),a=t[0],r=t[1];if("gate0000"===a)return"continue";r.current.split(",").forEach((function(t){n.push([parseInt(t),e.serverList[a].serverName])}))},c=0,l=Object.entries(this.allPriceDataRaw);c<l.length;c++)o();this.scatterOption.series[0].data=n}},drawBarChart:function(){if(!(this.barOption.series[0].data.length>0)){for(var e=[],t=[],a=0,r=Object.entries(this.allPriceDataRaw);a<r.length;a++){var i=Object(m["a"])(r[a],2),s=i[0],n=i[1];"gate0000"!==s&&(e.push(this.serverList[s].serverName),t.push(无parseInt(n.average)))}this.barOption.xAxis.data=e,this.barOption.series[0].data=t}},parseSingleServerData:function(){this.singleServerPrice=this.allPriceDataRaw[this.currentGate],this.drawLineChart(),this.singleServerPrice.recommend=this.calcRecommend()},drawBoxplotChart:function(){var e=this.singleServerPrice.today,t=(e["5173"],e["official"],e["post"],e["5173"].concat(e.official).concat(e.post)),a=Object(g["prepareBoxplotData"])([t],{layout:"vertical"});this.boxplotOption.yAxis.data=a.axisData,this.boxplotOption.series[0].data=a.boxData,this.boxplotOption.series[1].data=a.outliers;var r=t.map((function(e){return[1,parseInt(e)]}));this.boxplotOption.series[2].data=r},drawLineChart:function(){for(var e=this.parseTrend(this.singleServerPrice.trend),t=0,a=0,r=Object.entries(e);a<r.length;a++){var i=Object(m["a"])(r[a],2),s=(i[0],i[1]),n=!1,o=s.map((function(e){return"0"==e?(n=!0,null):parseInt(e)}));this.lineOption.series[t].data=o,this.lineOption.series[t+1].data=n?o:[],t+=2}this.lineOption.xAxis.data=this.getThirtyDaysArr()},parseTrend:function(e){var t,a={5173:[],official:[],post:[]},r=function(){return function(e,t){return e["date"]<t["date"]?1:-1}},i=e.sort(r()),s=Object(p["a"])(i);try{for(s.s();!(t=s.n()).done;){var n=t.value;a["5173"].push(n["5173"]),a["official"].push(n["official"]),a["post"].push(n["post"])}}catch(o){s.e(o)}finally{s.f()}return this.singleServerPrice.yesterday={official:i[0]["official"]&&0!=i[0]["official"]?i[0]["official"].toFixed(2):"无数据",5173:i[0]["5173"]&&0!=i[0]["5173"]?i[0]["5173"].toFixed(2):"无数据",post:i[0]["post"]&&0!=i[0]["post"]?i[0]["post"].toFixed(2):"无数据"},a},getThirtyDaysArr:function(){for(var e=new Date,t=[],a=1;a<=30;++a)e=new Date,e.setDate(e.getDate()-a),t.push("".concat(e.getMonth()+1,"-").concat(e.getDate()));return t},getUserId:function(){b["a"].isLogin()&&(this.uid=b["a"].getInfo().uid)},onLineChartLegendselectchanged:function(e){switch(e.name){case"5173":!1===e.selected["5173"]?this.lineOption.series[1].data=[]:this.lineOption.series[1].data=this.lineOption.series[0].data;break;case"万宝楼":!1===e.selected["万宝楼"]?this.lineOption.series[3].data=[]:this.lineOption.series[3].data=this.lineOption.series[2].data;break;case"贴吧":!1===e.selected["贴吧"]?this.lineOption.series[5].data=[]:this.lineOption.series[5].data=this.lineOption.series[4].data;break;default:break}},getFromLocal:function(){return new Promise((function(e,t){e({code:0,data:{jx3_server:"蝶恋花"}})}))}},filters:{},mounted:function(){this.getUserId(),this.prepareMounted()},components:{Nav:h["a"]}},O=w,C=(a("5aac"),a("2877")),_=Object(C["a"])(O,c,l,!1,null,null,null),P=_.exports;r["default"].config.productionTip=!1,r["default"].use(s.a),r["default"].use(n["a"]),r["default"].component("v-chart",o["a"]),new r["default"]({render:function(e){return e(P)}}).$mount("#app")}});
//# sourceMappingURL=price.7da451f5.js.map