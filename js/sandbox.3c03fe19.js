(function(a){function t(t){for(var n,c,m=t[0],r=t[1],l=t[2],p=0,u=[];p<m.length;p++)c=m[p],Object.prototype.hasOwnProperty.call(e,c)&&e[c]&&u.push(e[c][0]),e[c]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(a[n]=r[n]);o&&o(t);while(u.length)u.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var a,t=0;t<s.length;t++){for(var i=s[t],n=!0,m=1;m<i.length;m++){var r=i[m];0!==e[r]&&(n=!1)}n&&(s.splice(t--,1),a=c(c.s=i[0]))}return a}var n={},e={sandbox:0},s=[];function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return a[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=a,c.c=n,c.d=function(a,t,i){c.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:i})},c.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},c.t=function(a,t){if(1&t&&(a=c(a)),8&t)return a;if(4&t&&"object"===typeof a&&a&&a.__esModule)return a;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var n in a)c.d(i,n,function(t){return a[t]}.bind(null,n));return i},c.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return c.d(t,"a",t),t},c.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},c.p="https://console.cnyixun.com/static/app/";var m=window["webpackJsonp"]=window["webpackJsonp"]||[],r=m.push.bind(m);m.push=t,m=m.slice();for(var l=0;l<m.length;l++)t(m[l]);var o=r;s.push([12,"chunk-vendors","chunk-common"]),i()})({"0167":function(a){a.exports=JSON.parse('{"list":[{"id":9,"name":"洛道","name_pinyin":"LuoDao"},{"id":13,"name":"金水镇","name_pinyin":"JinShuiZhen"},{"id":21,"name":"巴陵县","name_pinyin":"BaLingXian"},{"id":22,"name":"南屏山","name_pinyin":"NanPingShan"},{"id":23,"name":"龙门荒漠","name_pinyin":"LongMenHuangMo"},{"id":30,"name":"昆仑","name_pinyin":"KunLun"},{"id":35,"name":"瞿塘峡","name_pinyin":"QuTangXia"},{"id":100,"name":"白龙口","name_pinyin":"BaiLongKou"},{"id":101,"name":"无量山","name_pinyin":"WuLiangShan"},{"id":103,"name":"融天岭","name_pinyin":"RongTianLing"},{"id":104,"name":"黑龙沼","name_pinyin":"HeiLongZhao"},{"id":105,"name":"苍山洱海","name_pinyin":"CangShanErHai"},{"id":139,"name":"枫华谷·战乱","name_pinyin":"FengHuaGuZhanLuan"},{"id":153,"name":"马嵬驿","name_pinyin":"MaWeiYi"}]}')},"110d":function(a,t,i){},12:function(a,t,i){a.exports=i("8684")},8684:function(a,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),e=i("5c96"),s=i.n(e),c=i("6a69"),m=(i("6b30"),i("c5b4"),i("8c4f")),r=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{attrs:{id:"app"}},[i("Header"),i("Breadcrumb",{attrs:{name:"阵营沙盘",slug:"sandbox",root:"/app/sandbox",feedbackEnable:!0,crumbEnable:!0}},[i("svg",{attrs:{slot:"logo",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},slot:"logo"},[i("path",{attrs:{d:"M511.933 412.213c-.012-.136-.028-.271-.043-.407-.038-.326-.089-.65-.149-.973-.023-.12-.039-.241-.064-.359a14.69 14.69 0 00-.299-1.163c-.048-.159-.102-.316-.156-.474a14.849 14.849 0 00-.277-.755c-.062-.156-.122-.311-.189-.464a14.836 14.836 0 00-.494-1.025c-.049-.093-.102-.182-.154-.273a14.259 14.259 0 00-.541-.89c-.079-.12-.161-.236-.243-.353a14.559 14.559 0 00-.545-.73c-.081-.102-.161-.205-.244-.304-.041-.049-.078-.101-.12-.151l-87.463-101.428a62.922 62.922 0 00-47.693-21.85 63.047 63.047 0 00-46.971 21.026l-14.626 16.377-20.957-36.453 31.736-31.736c8.055 6.444 17.851 9.674 27.651 9.674 11.346 0 22.692-4.319 31.33-12.957l6.962-6.962c5.767-5.768 5.767-15.119 0-20.887L332.687 163c-5.767-5.767-15.118-5.768-20.887 0l-6.962 6.962c-16.098 16.099-17.188 41.601-3.283 58.981l-26.098 26.098-34.326-59.71c-9.15-15.917-24.535-27.098-42.04-31.169v-35.905l123.506-48.032a14.768 14.768 0 000-27.53L189.674 1.004c-.081-.032-.165-.049-.247-.079a14.435 14.435 0 00-2.912-.744c-.158-.024-.315-.053-.473-.072a15.027 15.027 0 00-1.383-.092c-.097-.002-.194-.015-.29-.015L184.321 0c-.548 0-1.089.035-1.623.094-.112.013-.223.036-.334.051-.447.059-.887.135-1.32.233-.146.033-.289.074-.434.111a14.943 14.943 0 00-1.621.519c-.414.161-.818.341-1.213.537-.105.052-.212.097-.315.152-.5.263-.987.55-1.451.867l-.026.016a15.01 15.01 0 00-1.171.899c-.321.271-.634.549-.928.844l-.02.021c-.291.292-.566.6-.831.914-.06.072-.121.143-.18.216-.254.314-.497.636-.725.969-.053.078-.102.159-.155.237-.183.28-.356.565-.52.857-.054.096-.11.19-.162.287-.178.335-.342.677-.493 1.024-.057.129-.11.26-.163.391a14.69 14.69 0 00-.365.998c-.037.117-.072.235-.106.353a14.27 14.27 0 00-.252.982c-.027.118-.054.236-.078.355-.079.4-.14.804-.185 1.212-.011.096-.018.194-.027.29-.04.443-.068.889-.068 1.338v149.399c-17.164 4.009-32.348 14.87-41.534 30.298L2.08 405.982c-.058.098-.107.197-.162.295a14.904 14.904 0 00-.693 1.38c-.056.128-.105.259-.158.39a14.496 14.496 0 00-.458 1.314c-.108.367-.206.736-.286 1.109-.02.093-.034.186-.052.28a14.716 14.716 0 00-.202 1.431c-.04.433-.064.867-.066 1.302 0 .019-.003.036-.003.056v54.154C0 492.123 19.876 512 44.308 512h423.385C492.124 512 512 492.123 512 467.692v-54.15c0-.444-.027-.887-.067-1.329zM322.841 194.925l33.619 33.619c-5.488 2.615-12.27 1.654-16.809-2.885l-6.957-6.957-.005-.005-.005-.005-6.957-6.957c-4.541-4.539-5.502-11.321-2.886-16.81zM199.091 36.359l77.405 30.102-77.405 30.102V36.359zM348.32 321.318a33.474 33.474 0 0124.94-11.164 33.408 33.408 0 0125.323 11.602l66.409 77.014H358.084l-30.913-53.773 21.149-23.679zM153.398 209.577C159.854 198.735 171.703 192 184.322 192c12.844 0 24.799 6.917 31.201 18.053l108.489 188.716H40.752l112.646-189.192zm329.064 258.115c0 8.144-6.625 14.769-14.769 14.769H44.308c-8.144 0-14.769-6.625-14.769-14.769v-39.385h452.923v39.385z"}}),i("path",{attrs:{d:"M138.299 310.146h-.985c-8.157 0-14.769 6.613-14.769 14.769s6.613 14.769 14.769 14.769h.985c8.157 0 14.769-6.613 14.769-14.769s-6.612-14.769-14.769-14.769zM108.761 349.562h-.985c-8.157 0-14.769 6.613-14.769 14.769S99.62 379.1 107.776 379.1h.985c8.157 0 14.769-6.613 14.769-14.769s-6.613-14.769-14.769-14.769zM168.822 349.562h-.985c-8.157 0-14.769 6.613-14.769 14.769s6.613 14.769 14.769 14.769h.985c8.157 0 14.769-6.613 14.769-14.769s-6.612-14.769-14.769-14.769z"}})])]),i("LeftSidebar",{attrs:{open:!1}},[i("Nav")],1),i("Main",{attrs:{withoutRight:!0,withoutLeft:!0}},[i("div",{staticClass:"m-sandbox"},[i("h1",{staticClass:"m-sandbox-title"},[a._v("阵营沙盘")]),i("el-tabs",{attrs:{type:"card"},on:{"tab-click":a.changeServers},model:{value:a.activeName,callback:function(t){a.activeName=t},expression:"activeName"}},a._l(a.servers,(function(a){return i("el-tab-pane",{key:a.id,attrs:{label:a.server,name:a.server}})})),1),i("div",{staticClass:"m-sandbox-change"},[i("div",{staticClass:"m-alert el-alert el-alert--info is-light"},[i("span",[i("i",{staticClass:"el-icon-star-on"}),a._v("测试版本欢迎反馈 "),i("i",{staticClass:"el-icon-star-on"}),a._v("招募各个区服维护沙盘数据的小伙伴 ")]),i("span",[a._v("问题反馈&区服维护申请：QQ1416956452")])]),i("div",{staticClass:"m-change"},[i("div",{staticClass:"m-item"},[i("div",{staticClass:"m-title"},[a._v("选择阵营：")]),i("el-radio-group",{on:{change:a.changeCamp},model:{value:a.camp,callback:function(t){a.camp=t},expression:"camp"}},[i("el-radio-button",{attrs:{label:"恶人谷"}}),i("el-radio-button",{attrs:{label:"浩气盟"}})],1)],1),i("div",{staticClass:"m-item"},[i("div",{staticClass:"m-title"},[a._v("查看进攻路线：")]),i("el-switch",{model:{value:a.route,callback:function(t){a.route=t},expression:"route"}})],1),i("div",{staticClass:"m-item"},[i("span",{staticClass:"m-title"},[a._v("维护人员：")]),i("span",{staticClass:"u-name"},[a._v(a._s(this.maintain))])])])]),i("div",{staticClass:"m-sandbox-box",style:{background:"url("+a.imgbg+")"}},[i("div",{staticClass:"m-line",style:{background:"url("+a.imgline+")"}}),i("div",{staticClass:"m-box"},[i("div",{staticClass:"m-box-img"},[i("span",{staticClass:"u-img eren"},[i("img",{attrs:{src:a._f("eImgPath")(27)}})]),i("span",{staticClass:"u-img haoqi"},[i("img",{attrs:{src:a._f("hImgPath")(25)}})]),a._l(a.maplist,(function(t){return i("span",{key:t.id,staticClass:"u-img",class:t.name_pinyin},[i("img",{attrs:{src:a._f("campmap")(t.camp,t.id)}})])}))],2),i("div",{staticClass:"m-box-camp"},a._l(a.place.list,(function(t){return i("span",{key:t.id,staticClass:"u-img",class:t.name_pinyin},[i("img",{attrs:{src:a._f("campimg")(t.name_pinyin)}})])})),0),i("div",{staticClass:"m-box-name"},[i("div",{staticClass:"u-img eren"},[i("img",{attrs:{src:a.imgPath+"/image/camp/erengu.png"}}),i("span",[a._v("恶人谷")])]),i("div",{staticClass:"u-img haoqi"},[i("img",{attrs:{src:a.imgPath+"/image/camp/haoqimeng.png"}}),i("span",[a._v("浩气盟")])]),a._l(a.maplist,(function(t,n){return i("el-popover",{key:n,attrs:{placement:"top-start",width:"240",trigger:"hover"}},[i("div",{staticClass:"u-box"},[i("img",{attrs:{src:a._f("campimg")(t.name_pinyin)}}),i("div",{staticClass:"u-txt"},[i("div",{staticClass:"u-line"},[i("span",{staticClass:"u-camp"},[a._v(a._s(t.name))])]),i("div",{staticClass:"u-line"},[i("span",[a._v("占领势力：")]),i("span",{class:t.camp},[a._v("【"+a._s(a._f("campname")(t.camp))+"】")])]),i("div",{staticClass:"u-line u-gang"},[i("span",[a._v("占领帮会：")]),i("span",{class:t.camp},[a._v("- "+a._s(t.gang)+" -")])])]),i("div",{staticClass:"u-log",on:{click:function(i){return a.showlog(t.id,t.name,t.name_pinyin,t.description,t.link)}}},[i("i",{staticClass:"el-icon-date"})])]),i("div",{staticClass:"u-img",class:t.name_pinyin,attrs:{slot:"reference"},on:{click:function(i){return a.showlog(t.id,t.name,t.name_pinyin,t.description,t.link)}},slot:"reference"},[i("img",{attrs:{src:a._f("iconImg")(a._f("camptype")(t.camp,t.id),t.id)}}),i("span",[a._v(a._s(t.name))])])])})),a.show?i("div",{staticClass:"m-bgmark",on:{click:a.offshow}}):a._e()],2)]),a.show?i("div",{staticClass:"m-box-txt"},[i("div",{staticClass:"m-box-info"},[i("img",{staticClass:"u-img",attrs:{src:a._f("campimg")(a.camplist.img)}}),i("div",{staticClass:"u-box"},[i("span",{staticClass:"u-title"},[a._v(a._s(a.camplist.name))]),i("span",{staticClass:"u-desc"},[a._v(a._s(a._f("campdesc")(a.camplist.desc)))]),i("a",{staticClass:"u-baike",attrs:{href:a._f("camplink")(a.camplist.link),target:"_blank"}},[a._v("查看百科 »")])])]),a.camplist.list.length>0?i("ul",{staticClass:"u-cont",staticStyle:{overflow:"auto"}},a._l(a.camplist.list,(function(t,n){return i("li",{key:n},[i("div",{staticClass:"u-line"},[i("span",{staticClass:"u-time"},[a._v(a._s(t.date))])]),i("div",{staticClass:"u-line"},[i("span",[a._v("占领势力：")]),a._v(" "),i("span",{class:t.camp},[a._v("["+a._s(a._f("campname")(t.camp))+"]")])]),i("div",{staticClass:"u-line"},[i("span",[a._v("占领帮会：")]),a._v(" "),i("span",{class:t.camp},[a._v(a._s(t.gang))])])])})),0):i("div",{staticClass:"u-cont"},[i("div",{staticClass:"u-nonedata"},[a._v("暂无数据")])])]):a._e()]),a.show?i("div",{staticClass:"m-bgmark",on:{click:a.offshow}}):a._e()],1),i("Footer")],1)],1)},l=[],o=(i("b0c0"),i("fb6a"),i("9911f"),i("ac1f"),i("1276"),i("a15b"),i("216c")),p=i("0167"),u=i("65c2"),d=(i("99af"),i("41cb"));function g(){return Object(d["c"])().get("/api/sandmaps").then((function(a){return a.data}))}function h(a){return Object(d["c"])().get("/api/sandmap",{params:a}).then((function(a){return a.data}))}function v(a){return Object(d["c"])().get("/api/sandmap/detail",{params:a}).then((function(a){return a.data.data}))}function f(a,t){return Object(d["c"])().get("/api/sandmap/".concat(a,"/castle/").concat(t,"/logs")).then((function(a){return a.data}))}var _={name:"Sandbox",props:[],data:function(){return{servers:[],camp:"恶人谷",campId:1,campName:"",maintain:"",route:!1,time:"",place:p,show:!1,activeName:"斗转星移",maplist:[],imgPath:u["__imgPath"],camplist:{namme:"",img:"",desc:"",link:"",list:[]},elist:[],hlist:[],dlist:[]}},computed:{imgbg:function(){return u["__imgPath"]+"image/camp/backgroud.png"},imgline:function(){return u["__imgPath"]+"image/camp/line.png"},camps:function(){return"恶人谷"==this.camp?"eren":"haoqi"}},methods:{getcamp:function(){var a=this,t=this.$route.query,i={sandmap_id:"",camp:""};t.id&&(this.campId=t.id,this.activeName=t.name),this.getservername(this.activeName),i.sandmap_id=this.campId,i.camp=this.camps,h(i).then((function(t){a.maplist=t.data.sandmap.castles}))},getcampdetail:function(){var a=this,t={sandmap_id:this.campId,camp:this.camps};v(t).then((function(t){"eren"==a.camps?a.elist.push({id:t.sandmap.id,list:t.sandmap.maps}):a.hlist.push({id:t.sandmap.id,list:t.sandmap.maps})}))},getdetaillist:function(a){for(var t=0;t<a.length;t++)console.log(a)},changeCamp:function(){},changeServers:function(a,t){var i=t.target.getAttribute("id").slice(4);this.getservername(i),this.$router.push({name:"index",query:{id:this.campId,name:this.campName}}),this.route=!1,this.camp="恶人谷",this.getcamp()},getservername:function(a){for(var t=0;t<this.servers.length;t++)this.servers[t].server==a&&(this.campId=this.servers[t].id,this.campName=this.servers[t].server,this.maintain=this.servers[t].maintainer_name)},showlog:function(a,t,i,n,e){var s=this;this.show=!0,this.camplist.name=t,this.camplist.img=i,this.camplist.desc=n,this.camplist.link=e,f(this.campId,a).then((function(a){s.camplist.list=a.data.data}))},offshow:function(){this.show=!1}},mounted:function(){var a=this;g().then((function(t){for(var i=0;i<t.data.sandmaps.length;i++)t.data.sandmaps[i].id=t.data.sandmaps[i].id+"",a.campName=t.data.sandmaps[0].server,a.maintain=t.data.sandmaps[0].maintainer_name;a.servers=t.data.sandmaps,a.getcamp()}))},filters:{hImgPath:function(a){return u["__imgPath"]+"image/camp/h"+a+".png"},eImgPath:function(a){return u["__imgPath"]+"image/camp/e"+a+".png"},camptype:function(a,t){return 301==t?"haoqi"==a?u["__imgPath"]+"image/camp/h_1.png":u["__imgPath"]+"image/camp/e_1.png":221==t?"eren"==a?u["__imgPath"]+"image/camp/e_1.png":u["__imgPath"]+"image/camp/h_1.png":"eren"==a?u["__imgPath"]+"image/camp/e01.png":"haoqi"==a?u["__imgPath"]+"image/camp/h01.png":u["__imgPath"]+"image/camp/z01.png"},campmap:function(a,t){return"neutral"!==a?"eren"==a?u["__imgPath"]+"image/camp/e"+t+".png":u["__imgPath"]+"image/camp/h"+t+".png":301==t?u["__imgPath"]+"image/camp/e"+t+".png":221==t?u["__imgPath"]+"image/camp/h"+t+".png":u["__imgPath"]+"image/camp/tm.png"},iconImg:function(a,t){var i=a.split("1");return 301==t?i.join("lingfengbao"):221==t?i.join("wuwangcheng"):91==t||352==t||1532==t||1391==t||132==t||1052==t||232==t||1011==t||1032==t?i.join("1"):231==t||1031==t||92==t||1002==t?i.join("2"):1392==t||212==t||1012==t||1001==t?i.join("3"):131==t||1042==t||1051==t||351==t?i.join("4"):i.join("5")},campimg:function(a){return u["__imgPath"]+"image/camp/"+a+".png"},campname:function(a){return"eren"==a?"恶人谷":"haoqi"==a?"浩气盟":"中立"},camplink:function(a){return a||"https://www.jx3box.com/search/"},campdesc:function(a){return a||"暂无介绍"}},watch:{route:{handler:function(a){1==a&&(this.getcampdetail(),"eren"==this.camps?this.getdetaillist(this.elist):this.getdetaillist(this.hlist))}}},components:{Nav:o["a"]}},b=_,C=(i("a5d8"),i("2877")),y=Object(C["a"])(b,r,l,!1,null,"e96039d0",null),w=y.exports;n["default"].use(m["a"]);var x=new m["a"]({routes:[{path:"/",name:"index",component:w}]});n["default"].config.productionTip=!1,n["default"].use(s.a),n["default"].use(c["a"]),new n["default"]({router:x,render:function(a){return a(w)}}).$mount("#app")},a5d8:function(a,t,i){"use strict";i("110d")}});
//# sourceMappingURL=sandbox.3c03fe19.js.map